/* ===============================
   RouterHaus â€” Global UI (with new-site system)
   =============================== */

/* ---- Reset / base ---- */
*,*::before,*::after{box-sizing:border-box}
html,body{height:100%}
body,h1,h2,h3,h4,p,figure,blockquote,dl,dd{margin:0}
img,svg,video,canvas{display:block;max-width:100%}
button,input,select,textarea{font:inherit}
:focus-visible{outline:2px solid var(--focus);outline-offset:2px}
::selection{background:color-mix(in oklab, var(--primary) 35%, transparent);color:#fff}

/* ---- Tokens (keep your colors, add aliases used by new site) ---- */
:root{
  /* Brand (unchanged) */
  --primary:#6f7dff;
  --accent:#ff8df3;
  --secondary:#1c3aa6;

  /* Neutrals (light) */
  --bg:#ffffff;
  --surface:#f7f9fc;
  --card:#ffffff;
  --text-primary:#101828;
  --text-muted:#667085;
  --nav-text:#0f172a;
  --nav-hover:#1c3aa6;

  /* State */
  --success:#10b981; --danger:#ef4444; --info:#06B6D4; --focus: color-mix(in oklab, var(--primary) 60%, transparent);

  /* Depth & motion */
  --shadow-soft:0 4px 32px rgba(0,0,0,.12);
  --shadow-sm:0 4px 14px rgba(16,24,40,.06);
  --shadow:0 10px 30px rgba(16,24,40,.10);
  --shadow-medium:0 8px 64px rgba(0,0,0,.16);
  --shadow-strong:0 16px 128px rgba(0,0,0,.24);
  --shadow-lg:0 22px 60px rgba(16,24,40,.18);
  --shadow-glow:0 0 40px color-mix(in oklab, var(--primary) 35%, transparent);

  --ease-spring:cubic-bezier(.175,.885,.32,1.275);
  --ease-smooth:cubic-bezier(.4,0,.2,1);

  /* Radii */
  --radius:18px; --radius-lg:22px; --radius-xl:28px; --radius-full:9999px;

  /* Borders & gradients used by new site */
  --border-color: color-mix(in oklab, var(--text-muted) 12%, transparent);
  --card-border: 1px solid color-mix(in oklab, var(--text-muted) 14%, transparent);
  --border-accent: color-mix(in oklab, var(--primary) 28%, transparent);

  --gradient-primary: linear-gradient(135deg, var(--primary) 0%, var(--accent) 55%, var(--secondary) 100%);
  --gradient-surface: linear-gradient(145deg, color-mix(in oklab, #fff 5%, transparent) 0%, color-mix(in oklab, #fff 2%, transparent) 100%);
  --gradient-hero: radial-gradient(ellipse 80% 50% at 50% -20%, color-mix(in oklab, var(--primary) 15%, transparent), transparent 70%),
                   linear-gradient(135deg, color-mix(in oklab, var(--accent) 10%, transparent) 0%, color-mix(in oklab, #f59e0b 5%, transparent) 100%);

  /* Footer / hero background base */
  --footer-bg:#eef3ff;
  --hero-start:#8ec5fc; --hero-end:#e0c3fc;

  /* Type scale */
  --fs-900: clamp(2.2rem, 1.4rem + 3.2vw, 3.4rem);
  --fs-800: clamp(1.6rem, 1.1rem + 1.6vw, 2.2rem);
  --fs-700: 1.3rem; --fs-600: 1.125rem; --fs-500: 1rem;
}

html[data-theme="dark"]{
  --bg:#0b1120; --surface:#0f172a; --card:#0f1b33;
  --text-primary:#e6eaf5; --text-muted:#94a3b8;
  --nav-text:#e6eaf5; --nav-hover:#9cb6ff;

  --primary:#9ea7ff; --accent:#ff9aff; --secondary:#9cb6ff;

  --border-color: color-mix(in oklab, var(--text-muted) 18%, transparent);
  --card-border: 1px solid color-mix(in oklab, var(--text-muted) 22%, transparent);

  --footer-bg:#0c1324; --hero-start:#001934; --hero-end:#432889;
}

/* ---- Base ---- */
html,body{
  background:var(--bg); color:var(--text-primary);
  -webkit-font-smoothing:antialiased;
  font-family:"Inter", system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial, "Noto Sans";
  line-height:1.5; scroll-behavior:smooth;
  transition:background-color .25s,color .25s;
}
a{color:inherit;text-decoration:none}
a:hover{color:var(--nav-hover)}
.container{width:min(1120px, calc(100% - 2rem));margin-inline:auto}

/* ---- Glass system (new site) ---- */
.glass{ background:var(--card); border:var(--card-border); backdrop-filter:blur(14px) saturate(160%); -webkit-backdrop-filter:blur(14px) saturate(160%); border-radius:var(--radius-lg); box-shadow:var(--shadow-sm) }
.glass-card{ background: color-mix(in oklab, var(--card) 94%, transparent); border:var(--card-border); backdrop-filter:blur(24px) saturate(200%); -webkit-backdrop-filter:blur(24px) saturate(200%); border-radius:var(--radius-xl); box-shadow:var(--shadow) }
.glass-elevated{ background: color-mix(in oklab, var(--card) 88%, transparent); border:var(--card-border); backdrop-filter:blur(28px) saturate(220%); -webkit-backdrop-filter:blur(28px) saturate(220%); border-radius:var(--radius-xl); box-shadow:var(--shadow-medium) }

/* ---- Navbar with scrolled state (new site) ---- */
.navbar{
  position:sticky;top:0;z-index:1000;display:flex;align-items:center;justify-content:space-between;
  padding:.9rem 1.25rem;background:linear-gradient(110deg, rgba(255,255,255,.85), rgba(244,247,255,.85));
  backdrop-filter:blur(18px);-webkit-backdrop-filter:blur(18px);box-shadow:var(--shadow-sm); transition:all .3s var(--ease-smooth)
}
html[data-theme="dark"] .navbar{ background:linear-gradient(110deg, rgba(11,17,32,.75), rgba(11,17,32,.55)); }
.navbar.scrolled{ background: color-mix(in oklab, var(--card) 86%, transparent); border-bottom:1px solid var(--border-color); box-shadow:var(--shadow-soft) }
.logo{font-weight:800;font-size:1.6rem;letter-spacing:-.3px;color:var(--primary)}
.logo span{background:linear-gradient(90deg,var(--accent),var(--primary)); -webkit-text-fill-color:transparent; -webkit-background-clip:text; background-clip:text}
.nav-desktop{display:flex;gap:1.1rem;align-items:center}
.nav-link{ position:relative;padding:.35rem 0;font-weight:600;color:var(--nav-text) }
.nav-link::after{ content:"";position:absolute;left:0;bottom:-3px;height:2px;width:0;background:var(--gradient-primary);border-radius:999px; transition:transform .25s var(--ease-spring), width .25s var(--ease-spring)}
.nav-link:hover{ color:var(--text-primary) }
.nav-link:hover::after{ width:100% }
.hamburger{display:none;flex-direction:column;gap:4px;background:transparent;border:0;cursor:pointer}
.hamburger span{width:26px;height:3px;border-radius:2px;background:var(--text-primary);transition:transform .25s var(--ease-smooth), opacity .25s var(--ease-smooth)}
.hamburger.active span:first-child{transform:rotate(45deg) translate(6px,6px)}
.hamburger.active span:nth-child(2){opacity:0}
.hamburger.active span:nth-child(3){transform:rotate(-45deg) translate(6px,-6px)}
@media (max-width:768px){ .nav-desktop{display:none} .hamburger{display:flex} }

/* ---- Sidebar ---- */
.sidebar{
  position:fixed;top:70px;right:-100%;z-index:1000;width:min(92vw, 340px);height:calc(100% - 70px);
  padding:1.4rem 1.2rem;display:flex;flex-direction:column;gap:1rem;border-left:var(--card-border);
  border-top-left-radius:var(--radius);border-bottom-left-radius:var(--radius);
  transition:right .3s var(--ease-spring);box-shadow:-8px 0 24px rgba(0,0,0,.12)
}
.sidebar.active{right:0}
.sidebar nav{display:flex;flex-direction:column;gap:.5rem;margin-top:.6rem}
.sidebar nav a{padding:.7rem 1rem;border-radius:12px;color:var(--nav-text)}
.sidebar nav a:hover{background: color-mix(in oklab, var(--primary) 10%, transparent)}
.overlay{position:fixed;inset:0;background:rgba(0,0,0,.45);opacity:0;visibility:hidden;transition:opacity .3s var(--ease-smooth), visibility .3s var(--ease-smooth);z-index:999}
.overlay.active{opacity:1;visibility:visible}

/* ---- Buttons (with new-site primary gradient/glow) ---- */
.btn,.btn-secondary{ display:inline-flex;align-items:center;gap:.5rem;justify-content:center;font-weight:700;border-radius:999px;padding:.9rem 1.4rem; }
.btn{ background:var(--gradient-primary); color:white; box-shadow:var(--shadow-glow) }
.btn:hover{ transform:translateY(-2px); box-shadow:var(--shadow-glow), var(--shadow) }
.btn-secondary{ border:1px solid var(--border-accent); color:var(--text-primary); background: color-mix(in oklab, var(--card) 88%, transparent); backdrop-filter:blur(10px) }
.btn-secondary:hover{ background: color-mix(in oklab, var(--primary) 10%, transparent) }
.cta-button{ position:relative; overflow:hidden }
.cta-button::before{ content:""; position:absolute; inset:0; background:linear-gradient(135deg, rgba(255,255,255,.2) 0%, transparent 50%); opacity:0; transition:opacity .3s var(--ease-smooth)}
.cta-button:hover::before{ opacity:1 }

/* ---- Sections & hero ---- */
.hero{ color:#fff; background:linear-gradient(135deg,var(--hero-start) 0%, var(--hero-end) 100%); padding: clamp(56px, 9vw, 120px) 0 clamp(40px, 7vw, 96px); position:relative; overflow:hidden }
.index-hero{ color:var(--text-primary); background: var(--gradient-hero), var(--bg) }
.hero-stats .stat-item i{ color:var(--primary) }

/* ---- Animations (new site) ---- */
.fade-in{ opacity:0; transform:translateY(30px); transition:all .8s var(--ease-spring) }
.fade-in.visible{ opacity:1; transform:none }
.slide-in-left{ opacity:0; transform:translateX(-50px); transition:all .8s var(--ease-spring) }
.slide-in-left.visible{ opacity:1; transform:none }
.slide-in-right{ opacity:0; transform:translateX(50px); transition:all .8s var(--ease-spring) }
.slide-in-right.visible{ opacity:1; transform:none }
.scale-in{ opacity:0; transform:scale(.9); transition:all .6s var(--ease-spring) }
.scale-in.visible{ opacity:1; transform:scale(1) }

/* ---- Particles (new site) ---- */
.particles{ position:absolute; inset:0; overflow:hidden; pointer-events:none }
.particle{ position:absolute; width:4px; height:4px; background:var(--primary); border-radius:50%; opacity:.4; animation:float-particle 15s linear infinite }
@keyframes float-particle{
  0%{ transform:translateY(100vh) rotate(0deg); opacity:0 }
  10%,90%{ opacity:.4 }
  100%{ transform:translateY(-10vh) rotate(360deg); opacity:0 }
}

/* ---- Feature & product cards (new site) ---- */
.features-grid{ display:grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap:2rem }
.feature-card{ position:relative; overflow:hidden; cursor:pointer; background: color-mix(in oklab, var(--card) 96%, transparent); border:var(--card-border); border-radius:var(--radius-xl); padding:2rem; transition:transform .3s var(--ease-spring), box-shadow .3s var(--ease-spring), border-color .3s var(--ease-smooth) }
.feature-card:hover{ transform: translateY(-8px); box-shadow:var(--shadow-strong); border-color: var(--border-accent) }
.feature-card::before{ content:""; position:absolute; top:0; left:0; right:0; height:2px; background:var(--gradient-primary); transform:scaleX(0); transition:transform .3s var(--ease-spring) }
.feature-card:hover::before{ transform:scaleX(1) }
.feature-icon{ width:64px; height:64px; border-radius:var(--radius-lg); display:grid; place-items:center; margin-bottom:1rem; color:#fff; background:var(--gradient-primary); position:relative; overflow:hidden }
.feature-icon::before{ content:""; position:absolute; inset:0; background:linear-gradient(135deg, rgba(255,255,255,.2) 0%, transparent 50%) }

.products-grid{ display:grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap:2rem }
.product-card{ position:relative; overflow:hidden; background: color-mix(in oklab, var(--card) 96%, transparent); border:var(--card-border); border-radius:var(--radius-xl); padding:2rem; transition:transform .3s var(--ease-spring), box-shadow .3s var(--ease-spring), border-color .3s var(--ease-smooth) }
.product-card:hover{ transform: translateY(-6px) rotateX(2deg); box-shadow:var(--shadow-strong); border-color: var(--border-accent) }
.product-image{ height:200px; display:grid; place-items:center; border:1px dashed var(--border-color); border-radius:var(--radius-lg); background: color-mix(in oklab, var(--primary) 10%, transparent); position:relative; overflow:hidden }
.product-image::before{ content:""; position:absolute; inset:0; background:var(--gradient-primary); opacity:.08 }
.product-tag{ display:inline-block; background: color-mix(in oklab, var(--card) 90%, transparent); color:var(--primary); font-weight:700; padding:.25rem .75rem; border-radius:999px; margin:.25rem 0 }
.product-meta{ color:var(--text-muted) }
.product-cta{ border:1px solid var(--border-accent) }

/* ---- Enterprise section accents (new site) ---- */
.enterprise-section{ background: var(--gradient-hero); position:relative; overflow:hidden }
.enterprise-section::before{ content:""; position:absolute; inset:0; background:
  radial-gradient(circle at 30% 70%, color-mix(in oklab, var(--accent) 16%, transparent) 0%, transparent 50%),
  radial-gradient(circle at 70% 30%, color-mix(in oklab, var(--primary) 14%, transparent) 0%, transparent 50%) }
.enterprise-container{ position:relative; z-index:1; display:grid; grid-template-columns:1.2fr .8fr; gap:4rem; align-items:center }
@media (max-width:1024px){ .enterprise-container{ grid-template-columns:1fr; gap:2rem; text-align:center } }
.ef-list{ display:flex; flex-direction:column; gap:1rem; margin-top:1rem }
.ef-list i{ color:var(--primary); margin-right:.5rem }

/* ---- Final CTA pulse (new site) ---- */
.final-cta-section{ position:relative; overflow:hidden; background: var(--gradient-hero) }
.final-cta-section::before{ content:""; position:absolute; inset:0; background: radial-gradient(circle at 50% 50%, color-mix(in oklab, var(--primary) 18%, transparent) 0%, transparent 60%); animation:pulse 4s ease-in-out infinite }
@keyframes pulse{ 0%,100%{ opacity:.8; transform:scale(1) } 50%{ opacity:1; transform:scale(1.05) } }

/* ---- Trust logo shimmer (new site) ---- */
.trust-section{ background: color-mix(in oklab, var(--card) 94%, transparent); border-block:1px solid var(--border-color); padding:4rem 0 }
.trust-logo{ position:relative; overflow:hidden; border:var(--card-border); border-radius:12px; padding:.6rem 1rem; background: var(--card); font-weight:700; color:var(--text-muted) }
.trust-logo::before{ content:""; position:absolute; top:0; left:-100%; width:100%; height:100%; background: linear-gradient(90deg, transparent, rgba(255,255,255,.16), transparent); transition:left .6s }
.trust-logo:hover{ color:var(--nav-hover) }
.trust-logo:hover::before{ left:100% }

/* ---- Footer (enhanced) ---- */
.site-footer{ background:linear-gradient(180deg, color-mix(in oklab, var(--footer-bg) 70%, transparent), transparent) }
.site-footer .footer-wrap{ padding: clamp(28px, 4vw, 48px) 0 }
.footer-grid{ display:grid; gap: clamp(16px, 3vw, 28px); grid-template-columns: 1.6fr 1fr 1fr 1fr; align-items:start }
@media (max-width:900px){ .footer-grid{ grid-template-columns:1fr } }
.footer-brand .logo{font-size:1.4rem}
.footer-brand p{color:var(--text-muted);margin:.5rem 0 0}
.footer-col h4{margin:0 0 .5rem}
.footer-col ul{list-style:none;padding:0;margin:0;display:grid;gap:.4rem}
.footer-col a{color:var(--text-muted)} .footer-col a:hover{color:var(--nav-hover)}
.footer-bottom{ border-top:1px solid var(--border-color); display:flex; align-items:center; justify-content:space-between; gap:1rem; margin-top: clamp(18px, 3vw, 28px); padding-top: clamp(12px, 2vw, 16px); color:var(--text-muted) }
.footer-links{ display:flex; gap:1rem }
@media (max-width:700px){ .footer-bottom{flex-direction:column;align-items:flex-start} }

/* ---- Scrollbar (new site) ---- */
::-webkit-scrollbar{ width:8px }
::-webkit-scrollbar-track{ background: color-mix(in oklab, var(--surface) 100%, transparent) }
::-webkit-scrollbar-thumb{ background: color-mix(in oklab, var(--card) 80%, transparent); border-radius:999px }
::-webkit-scrollbar-thumb:hover{ background: var(--primary) }
